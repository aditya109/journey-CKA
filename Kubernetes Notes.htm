<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	line-height:107%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	line-height:107%;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;
	font-weight:normal;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	line-height:107%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;
	font-style:italic;}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:2.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	line-height:107%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-weight:normal;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:0cm;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:11.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:5.0pt;
	margin-left:22.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin:0cm;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0cm;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0cm;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	letter-spacing:-.5pt;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin:0cm;
	font-size:28.0pt;
	font-family:"Calibri Light",sans-serif;
	letter-spacing:-.5pt;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
p
	{margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
code
	{font-family:"Courier New";}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin:0cm;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:36.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:36.0pt;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoQuote, li.MsoQuote, div.MsoQuote
	{mso-style-link:"Quote Char";
	margin-top:10.0pt;
	margin-right:43.2pt;
	margin-bottom:8.0pt;
	margin-left:43.2pt;
	text-align:center;
	line-height:107%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	color:#404040;
	font-style:italic;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	line-height:107%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Calibri Light",sans-serif;
	letter-spacing:-.5pt;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri Light",sans-serif;
	color:#1F3763;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;
	font-style:italic;}
p.l0, li.l0, div.l0
	{mso-style-name:l0;
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
span.pln
	{mso-style-name:pln;}
p.l1, li.l1, div.l1
	{mso-style-name:l1;
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
span.pun
	{mso-style-name:pun;}
p.l2, li.l2, div.l2
	{mso-style-name:l2;
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.l3, li.l3, div.l3
	{mso-style-name:l3;
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.l4, li.l4, div.l4
	{mso-style-name:l4;
	margin-right:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
span.kwd
	{mso-style-name:kwd;}
span.QuoteChar
	{mso-style-name:"Quote Char";
	mso-style-link:Quote;
	color:#404040;
	font-style:italic;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Calibri Light",sans-serif;
	color:#2F5496;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:8.0pt;
	line-height:107%;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 72.0pt 72.0pt 72.0pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=EN-IN link="#0563C1" vlink="#954F72" style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoTitle><span lang=EN-US>Kubernetes</span></p>

<p class=MsoTocHeading><span lang=EN-US>Contents</span></p>

<p class=MsoToc1><a href="#_Toc55818130"><span lang=EN-US>Core Concepts</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc2><a href="#_Toc55818131"><span lang=EN-US>Kubernetes
Architecture</span><span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc2><a href="#_Toc55818132"><span lang=EN-US>ETCD</span><span
style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>3</span></a></p>

<p class=MsoToc2><a href="#_Toc55818133"><span lang=EN-US>Kube-API Server</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>5</span></a></p>

<p class=MsoToc2><a href="#_Toc55818134"><span lang=EN-US>Controller Manager</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>6</span></a></p>

<p class=MsoToc2><a href="#_Toc55818135"><span lang=EN-US>Kube Scheduler</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>7</span></a></p>

<p class=MsoToc2><a href="#_Toc55818136"><span lang=EN-US>Kubelet</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>7</span></a></p>

<p class=MsoToc2><a href="#_Toc55818137"><span lang=EN-US>Kube Proxy</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>7</span></a></p>

<p class=MsoToc3><a href="#_Toc55818138"><span lang=EN-US>PODs</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>8</span></a></p>

<p class=MsoToc3><a href="#_Toc55818139"><span lang=EN-US>ReplicaSets</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>9</span></a></p>

<p class=MsoToc3><a href="#_Toc55818140"><span lang=EN-US>Deployments</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>10</span></a></p>

<p class=MsoToc3><a href="#_Toc55818141"><span lang=EN-US>Namespaces</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>11</span></a></p>

<p class=MsoToc3><a href="#_Toc55818142"><span lang=EN-US>Services</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>12</span></a></p>

<p class=MsoToc3><a href="#_Toc55818143">Kubernetes Imperative and Declarative<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>16</span></a></p>

<p class=MsoToc1><a href="#_Toc55818144"><span lang=EN-US>Scheduling</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>18</span></a></p>

<p class=MsoToc2><a href="#_Toc55818145"><span lang=EN-US>Manually Scheduling</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>18</span></a></p>

<p class=MsoToc2><a href="#_Toc55818146"><span lang=EN-US>No Scheduler</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>19</span></a></p>

<p class=MsoToc2><a href="#_Toc55818147"><span lang=EN-US>Labels and Selectors</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>19</span></a></p>

<p class=MsoToc3><a href="#_Toc55818148"><span lang=EN-US>Annotations</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>20</span></a></p>

<p class=MsoToc2><a href="#_Toc55818149"><span lang=EN-US>Taints and
Tolerations</span><span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>20</span></a></p>

<p class=MsoToc2><a href="#_Toc55818150"><span lang=EN-US>Node Selectors</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>21</span></a></p>

<p class=MsoToc2><a href="#_Toc55818151"><span lang=EN-US>Node Affinity</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>22</span></a></p>

<p class=MsoToc2><a href="#_Toc55818152"><span lang=EN-US>Resources Requirements
and Limits</span><span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>22</span></a></p>

<p class=MsoToc3><a href="#_Toc55818153"><span lang=EN-US>Resource Limits</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>23</span></a></p>

<p class=MsoToc3><a href="#_Toc55818154"><span lang=EN-US>Limit Range</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>24</span></a></p>

<p class=MsoToc2><a href="#_Toc55818155"><span lang=EN-US>Daemon Sets</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>25</span></a></p>

<p class=MsoToc2><a href="#_Toc55818156"><span lang=EN-US>Static Pods</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>26</span></a></p>

<p class=MsoToc1><a href="#_Toc55818157"><span lang=EN-US>Logging &amp;
Monitoring</span><span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818158"><span lang=EN-US>Application Lifecycle
Management</span><span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818159"><span lang=EN-US>Cluster Maintenance</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818160"><span lang=EN-US>Security</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818161"><span lang=EN-US>Storage</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818162"><span lang=EN-US>Networking</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818163"><span lang=EN-US>Design and Install a
Kubernetes Cluster</span><span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818164"><span lang=EN-US>Install “Kubernetes
the kubeadm way”</span><span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818165"><span lang=EN-US>End to End Tests on a
Kubernetes Cluster</span><span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818166"><span lang=EN-US>Troubleshooting</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818167"><span lang=EN-US>Other Topics</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818168"><span lang=EN-US>Lightning Labs</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoToc1><a href="#_Toc55818169"><span lang=EN-US>Mock Exams</span><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>28</span></a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-US style='font-size:16.0pt;line-height:107%;
font-family:"Calibri Light",sans-serif;color:#2F5496'>&nbsp;</span></p>

<h1><a name="_Toc55818130"><span lang=EN-US>Core Concepts</span></a></h1>

<h2><a name="_Toc55818131"><span lang=EN-US>Kubernetes Architecture</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Two types of Nodes:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><b><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span lang=EN-US>Worker Nodes: </span></b><span
lang=EN-US>Host Application as Containers</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:72.0pt;text-indent:-18.0pt'><b><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span lang=EN-US>Container Runtime Engine</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:72.0pt;text-indent:-18.0pt'><b><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span lang=EN-US>kubelet</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:72.0pt;text-indent:-18.0pt'><b><span
lang=EN-US>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span lang=EN-US>kube-proxy</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><b><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span lang=EN-US>Master Nodes: </span></b><span
lang=EN-US>Manage, Plan, Schedule, Monitor Nodes</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:72.0pt;text-indent:-18.0pt'><b><span
lang=EN-US>a.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span lang=EN-US>ETCD Cluster</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:72.0pt;text-indent:-18.0pt'><b><span
lang=EN-US>b.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span lang=EN-US>kube-scheduler</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:72.0pt;text-indent:-18.0pt'><b><span
lang=EN-US>c.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span lang=EN-US>Controller-Managers</span></b></p>

<p class=MsoListParagraphCxSpLast style='margin-left:72.0pt;text-indent:-18.0pt'><span
lang=EN-US>d.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><img width=602 height=335
src="Kubernetes%20Notes_files/image001.png" align=right hspace=12><b><span
lang=EN-US>kube-apiserver</span></b></p>

<h3><span lang=EN-US>&nbsp;</span></h3>

<h3><span lang=EN-US>&nbsp;</span></h3>

<h2><a name="_Toc55818132"><span lang=EN-US>ETCD</span></a></h2>

<p class=MsoNormal><span lang=EN-US>ETCD is a distributed reliable <b>key-value</b>
store that is simple, secure &amp; fast.</span></p>

<h4><span lang=EN-US>Install ETCD</span></h4>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Download Binaries</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Extract it</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Run ETCD Service (Port 2379)</span></p>

<h4><span lang=EN-US>Operate ETCD</span></h4>

<p class=MsoNormal><span style='color:#555555'>.etcdctl </span><span
style='color:#445588'>set</span><span style='color:#555555'> key1 value1</span></p>

<p class=MsoNormal>This command sets an entry in ETCD Store.</p>

<p class=MsoNormal><span style='color:#555555'>.etcdctl </span><span
style='color:#445588'>get</span><span style='color:#555555'> key1</span></p>

<p class=MsoNormal>This command gets the entry under `key1` from ETCD Store.</p>

<p class=MsoNormal><span style='color:#555555'>.etcdctl </span></p>

<p class=MsoNormal>This command is the .etcdctl help command.</p>

<h4>ETCD Cluster</h4>

<p class=MsoNormal>It records every detail of Kubernetes entity like:</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Nodes</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PODs</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Configs</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Secrets</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Accounts</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Roles</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Bindings</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Others</p>

<p class=MsoNormal><img width=602 height=231
src="Kubernetes%20Notes_files/image002.png"><br clear=ALL>
</p>

<p class=MsoNormal><img width=602 height=300
src="Kubernetes%20Notes_files/image003.png"><br clear=ALL>
</p>

<p class=MsoNormal>(Optional) Additional information about ETCDCTL&nbsp;Utility<br>
<br>
ETCDCTL&nbsp;is the CLI&nbsp;tool used to interact with ETCD.<br>
<br>
ETCDCTL can interact with ETCD&nbsp;Server using 2 API versions - Version 2 and
Version 3.&nbsp; By default its set to use Version 2. Each version has
different sets of commands.</p>

<p class=MsoNormal>For example, ETCDCTL&nbsp;version 2 supports the following
commands:</p>

<p class=l0 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcdctl
backup</span></span></p>

<p class=l1 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcdctl
cluster</span></span><span class=pun><span style='font-size:9.0pt;font-family:
Consolas;color:#29303B'>-</span></span><span class=pln><span style='font-size:
9.0pt;font-family:Consolas;color:#29303B'>health</span></span></p>

<p class=l2 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcdctl
mk</span></span></p>

<p class=l3 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcdctl
mkdir</span></span></p>

<p class=l4 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcdctl
</span></span><span class=kwd><span style='font-size:9.0pt;font-family:Consolas;
color:#B35A1B'>set</span></span></p>

<p class=MsoNormal>Whereas the commands are different in version 3</p>

<p class=l0 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcdctl
snapshot save </span></span></p>

<p class=l1 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcdctl
endpoint health</span></span></p>

<p class=l2 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcdctl
</span></span><span class=kwd><span style='font-size:9.0pt;font-family:Consolas;
color:#B35A1B'>get</span></span></p>

<p class=l3 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcdctl
put</span></span></p>

<p class=MsoNormal><br>
To set the right version of API&nbsp;set the environment variable ETCDCTL_API
command</p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:15.0pt;margin-left:
0cm'><code><span style='font-size:10.0pt;font-family:Consolas;color:#EC5252;
background:#F2F3F5'>export ETCDCTL_API=3</span></code></p>

<p class=MsoNormal>When API&nbsp;version is not set, it is assumed to be set to
version 2. And version 3 commands listed above don't work. When
API&nbsp;version is set to version 3, version 2 commands listed above don't
work.</p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:15.0pt;margin-left:
0cm'>Apart from that, you must also specify path to certificate files so that
ETCDCTL&nbsp;can authenticate to the ETCD&nbsp;API&nbsp;Server. The certificate
files are available in the etcd-master at the following path. We discuss more
about<span style='font-size:13.5pt'> </span>certificates in the security
section of this course. So don't worry if this looks complex:</p>

<p class=l0 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>--</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>cacert
</span></span><span class=pun><span style='font-size:9.0pt;font-family:Consolas;
color:#29303B'>/</span></span><span class=pln><span style='font-size:9.0pt;
font-family:Consolas;color:#29303B'>etc</span></span><span class=pun><span
style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>kubernetes</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>pki</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcd</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>ca</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>.</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>crt    
</span></span></p>

<p class=l1 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>--</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>cert
</span></span><span class=pun><span style='font-size:9.0pt;font-family:Consolas;
color:#29303B'>/</span></span><span class=pln><span style='font-size:9.0pt;
font-family:Consolas;color:#29303B'>etc</span></span><span class=pun><span
style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>kubernetes</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>pki</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcd</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>server</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>.</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>crt    
</span></span></p>

<p class=l2 style='margin-left:36.0pt;text-indent:-18.0pt;word-break:break-all'><span
style='font-size:9.0pt;font-family:Consolas;color:#505763'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>--</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>key </span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etc</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>kubernetes</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>pki</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>etcd</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>/</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>server</span></span><span
class=pun><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>.</span></span><span
class=pln><span style='font-size:9.0pt;font-family:Consolas;color:#29303B'>key</span></span></p>

<p class=MsoNormal>So, for the commands I showed in the previous video to work
you must specify the ETCDCTL API version and path to certificate files. Below
is the final form:</p>

<h2><a name="_Toc55818133"><span lang=EN-US>Kube-API Server</span></a></h2>

<p class=MsoNormal><span lang=EN-US>The API server is a component of the
Kubernetes control plane that exposes the Kubernetes API. The API server is the
front end for the Kubernetes control plane. kube-apiserver is designed to scale
horizontally—that is, it scales by deploying more instances.<br>
<br>
</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=422 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=602 height=287 src="Kubernetes%20Notes_files/image004.png"></td>
 </tr>
</table>

<br clear=ALL>
<span lang=EN-US><br>
Only kube-apiserver talk to ETCD cluster, rest of the control-plane components talk
to ETCD cluster via kube-apiserver.</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=422 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=602 height=172 src="Kubernetes%20Notes_files/image005.png"></td>
 </tr>
</table>

<br clear=ALL>
<span style='color:#555555'>kubectl </span><span style='color:#445588'>get</span><span
style='color:#555555'> pods -n kube-system</span></p>

<p class=MsoNormal>This command gives us all control-plane components running
in kube-system namespace.</p>

<p class=MsoNormal>To view the manifest of kube-apiserver(kubeadm setup): <span
style='color:#555555'>cat /etc/kubernetes/manifests/kube-apiserver.yaml</span></p>

<p class=MsoNormal>To view options of kube-apiserver(non-kubeadm setup): <br>
<span style='color:#555555'>cat /etc/system/system/kube-apiserver.service<br>
ps -aux | grep kube-apiserver</span></p>

<h2><a name="_Toc55818134"><span lang=EN-US>Controller Manager</span></a></h2>

<p class=MsoNormal><span lang=EN-US>In Kubernetes, controllers are control
loops that watch the state of your cluster, then make or request changes where
needed. Each controller tries to move the current cluster state closer to the
desired state.</span></p>

<p class=MsoNormal><span lang=EN-US>Logically, each controller is a separate
process, but to reduce complexity, they are all compiled into a single binary
and run in a single process.</span></p>

<p class=MsoNormal><span lang=EN-US>These controllers include:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Node Controller</span></b><span lang=EN-US>: Responsible
for noticing and responding when nodes go down.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Replication controller</span></b><span
lang=EN-US>: Responsible for maintaining the correct number of pods for every
replication controller object in the system.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Endpoints controller</span></b><span
lang=EN-US>: Populates the Endpoints object (that is, joins Services &amp;
Pods).</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Service Account &amp; Token controllers</span></b><span
lang=EN-US>: Create default accounts and API access tokens for new namespaces.<br>
<br>
</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Watch Status</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Remediate Situation</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Node Monitor Period = 5s</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Node Monitor Grace Period = 40s</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>POD Eviction Timeout = 5m</span></p>

<h4><span lang=EN-US>View kube-controller-manager – kubeadm</span></h4>

<p class=MsoNormal><span style='color:#555555'>kubectl </span><span
style='color:#445588'>get</span><span style='color:#555555'> pods -n
kube-system</span></p>

<p class=MsoNormal><span lang=EN-US><br>
To view the manifest of kube-controller-manager (kubeadm setup): </span><span
style='color:#555555'>cat /etc/kubernetes/manifests/kube-controller-manager.yaml</span><span
lang=EN-US><br>
<br>
</span></p>

<p class=MsoNormal>To view options of kube-controller-manager (non-kubeadm
setup):  <br>
<span style='color:#555555'>cat
/etc/system/system/kube-controller-manager.service<br>
ps -aux | grep kube-controller-manager</span></p>

<h2><a name="_Toc55818135"><span lang=EN-US>Kube Scheduler</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Control plane component that watches for
newly created Pods with no assigned node, and selects a node for them to run
on.</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Wingdings'>Ø<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=EN-US>Filter Nodes</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Wingdings'>Ø<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span><span lang=EN-US>Rank Nodes</span></p>

<p class=MsoNormal><span lang=EN-US>Factors taken into account for scheduling
decisions include:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Individual and collective resource requirements</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Hardware/software/policy constraints</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Affinity and anti-affinity specifications</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Data Locality</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Inter-workload interference</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Deadlines</span></p>

<h4><span lang=EN-US>View kube-scheduler – kubeadm</span></h4>

<p class=MsoNormal><span style='color:#555555'>kubectl </span><span
style='color:#445588'>get</span><span style='color:#555555'> pods -n
kube-system</span></p>

<p class=MsoNormal><span lang=EN-US><br>
To view the manifest of kube-scheduler (kubeadm setup): </span><span
style='color:#555555'>cat /etc/kubernetes/manifests/kube-</span> <span
style='color:#555555'>scheduler.yaml</span><span lang=EN-US><br>
<br>
</span></p>

<p class=MsoNormal>To view options of kube-scheduler (non-kubeadm setup):  <br>
<span style='color:#555555'>cat /etc/system/system/kube-</span> <span
style='color:#555555'>scheduler.service<br>
ps -aux | grep kube-</span> <span style='color:#555555'>scheduler</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><a name="_Toc55818136"><span lang=EN-US>Kubelet</span></a></h2>

<p class=MsoNormal><span lang=EN-US>An agent that runs on each node in the
cluster. It makes sure that containers are running in a Pod.</span></p>

<p class=MsoNormal><span lang=EN-US>The kubelet takes a set of PodSpecs that
are provided through various mechanisms and ensures that the containers
described in those PodSpecs are running and healthy. The kubelet doesn't manage
containers which were not created by Kubernetes.</span></p>

<p class=MsoNormal><span lang=EN-US style='color:red'>Kubeadm does not deploy
Kubelets.</span></p>

<p class=MsoNormal><span style='color:#555555'>ps -aux | grep kubelet</span></p>

<h2><a name="_Toc55818137"><span lang=EN-US>Kube Proxy</span></a></h2>

<p class=MsoNormal><span lang=EN-US>kube-proxy is a network proxy that runs on
each node in your cluster, implementing part of the Kubernetes Service concept.</span></p>

<p class=MsoNormal><span lang=EN-US>kube-proxy maintains network rules on
nodes. These network rules allow network communication to your Pods from
network sessions inside or outside of your cluster.</span></p>

<p class=MsoNormal><span lang=EN-US>kube-proxy uses the operating system packet
filtering layer if there is one and it's available. Otherwise, kube-proxy
forwards the traffic itself.</span></p>

<p class=MsoNormal><img width=602 height=379
src="Kubernetes%20Notes_files/image006.png"><br clear=ALL>
 </p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='color:#555555'>ps -aux | grep kube-proxy</span>
</p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><span lang=EN-US>&nbsp;</span></h3>

<h3><a name="_Toc55818138"><span lang=EN-US>PODs</span></a></h3>

<p class=MsoNormal><span lang=EN-US>Pods are the smallest deployable units of
computing that you can create and manage in Kubernetes.</span></p>

<p class=MsoNormal><span lang=EN-US>A Pod (as in a pod of whales or pea pod) is
a group of one or more containers, with shared storage/network resources, and a
specification for how to run the containers.</span></p>

<p class=MsoNormal><span lang=EN-US>A Pod's contents are always co-located and
co-scheduled, and run in a shared context. A Pod models an application-specific
&quot;logical host&quot;: it contains one or more application containers which
are relatively tightly coupled. </span></p>

<h4><span lang=EN-US>Using PODs</span></h4>

<p class=MsoNormal><span lang=EN-US>Usually Pods are not required to be created
directly, even singleton Pods. </span></p>

<p class=MsoQuote><span lang=EN-US>Instead, create them using workload
resources such as Deployment or Job. </span></p>

<p class=MsoNormal align=center style='text-align:center'><i><span lang=EN-US
style='color:#404040'>If your Pods need to track state, consider the
StatefulSet resource.</span></i></p>

<p class=MsoNormal><span lang=EN-US>Pods in a Kubernetes cluster are used in
two main ways:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><b><span lang=EN-US>Pods that run a single container</span></b></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><b><span
lang=EN-US>Pods that run multiple containers that need to work together: </span></b><span
lang=EN-US>A Pod can encapsulate an application composed of multiple co-located
containers that are tightly coupled and need to share resources. (<b>Multi-container
PODs</b>)</span></p>

<h4><span lang=EN-US>Pod Definition YAML</span></h4>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span style='color:red'>apiVersion</span><span
style='color:#555555'>: v1&nbsp;&nbsp;</span><span style='color:#B8B6B1'>#
version of Kubernetes API</span><span style='color:#555555'><br>
</span><span style='color:red'>kind</span><span style='color:#555555'>: </span><span
style='color:teal'>Pod</span><span style='color:#555555'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='color:#B8B6B1'># kind of Kubernetes object to be created </span><span
style='color:#555555'><br>
</span><span style='color:red'>metadata</span><span style='color:#555555'>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='color:#B8B6B1'># data about the Kubernetes object `kind`</span><span
style='color:#555555'><br>
&nbsp;&nbsp;name: myapp-pod<br>
&nbsp;&nbsp;labels:<br>
&nbsp;&nbsp;&nbsp;&nbsp;app: myapp<br>
&nbsp;&nbsp;&nbsp;&nbsp;type: front-</span><span style='color:#445588'>end</span><span
style='color:#555555'><br>
</span><span style='color:red'>spec</span><span style='color:#555555'>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><span style='color:#B8B6B1'># specification about Kubernetes object
`kind`</span><span style='color:#555555'><br>
&nbsp;&nbsp;containers:<br>
&nbsp;&nbsp;&nbsp;&nbsp;- name: nginx-container<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image: nginx</span></p>

<p class=MsoNormal><span lang=EN-US>kubectl pod-creation command (using yaml): </span><span
style='color:#555555'>kubectl create -f pod-definition.yml<br>
</span>kubectl pod-creation command:  <span style='color:#555555'>kubectl run
nginx --image=nginx</span><br>
kubectl pod-get command:<span style='color:#555555'> kubectl get pods<br>
</span>kubectl pod-deletion command: <span style='color:#555555'>kubectl </span><span
style='color:#445588'>delete</span><span style='color:#555555'> pod nginx</span></p>

<p class=MsoNormal><span lang=EN-US>To get information about all the pods: </span><span
style='color:#555555'>kubectl </span><span style='color:#445588'>get</span><span
style='color:#555555'> pods<br>
</span><span lang=EN-US>To describe all the creation information of a pod: </span><span
style='color:#555555'>kubectl describe pod myapp-pod</span>  </p>

<h3><a name="_Toc55818139"><span lang=EN-US>ReplicaSets</span></a></h3>

<p class=MsoNormal><span lang=EN-US>A ReplicaSet's purpose is to maintain a
stable set of replica Pods running at any given time. As such, it is often used
to guarantee the availability of a specified number of identical Pods.</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>A ReplicaSet is defined with fields, including a
selector that specifies how to identify Pods it can acquire, a number of
replicas indicating how many Pods it should be maintaining, and a pod template
specifying the data of new Pods it should create to meet the number of replicas
criteria.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>A ReplicaSet then fulfills its purpose by
creating and deleting Pods as needed to reach the desired number. When a
ReplicaSet needs to create new Pods, it uses its Pod template.</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>A ReplicaSet ensures that a specified number of
pod replicas are running at any given time. However, a Deployment is a
higher-level concept that manages ReplicaSets and provides declarative updates
to Pods along with a lot of other useful features.</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=283 valign=top style='width:212.4pt;border:solid windowtext 1.0pt;
  background:#AEAAAA;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0cm;text-align:center;
  line-height:normal'><span lang=EN-US>ReplicaSets</span></p>
  </td>
  <td width=318 valign=top style='width:238.4pt;border:solid windowtext 1.0pt;
  border-left:none;background:#AEAAAA;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0cm;text-align:center;
  line-height:normal'><span lang=EN-US style='color:black'>ReplicationController</span></p>
  </td>
 </tr>
 <tr>
  <td width=283 valign=top style='width:212.4pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;line-height:normal'><span
  style='color:#555555;background:yellow'>apiVersion: apps/v1</span><span
  style='color:#555555'><br>
  <span style='background:yellow'>kind: </span></span><span style='color:teal;
  background:yellow'>ReplicaSet</span><span style='color:#555555'><br>
  metadata:<br>
  &nbsp;&nbsp;name: myapp-replicaset<br>
  &nbsp;&nbsp;labels:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;app: myapp<br>
  &nbsp;&nbsp;&nbsp;&nbsp;type: front-</span><span style='color:#445588'>end</span><span
  style='color:#555555'><br>
  spec:<br>
  &nbsp;&nbsp;</span><span style='color:#445588'>template</span><span
  style='color:#555555'>:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;metadata:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: myapp-pod<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labels:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;app: myapp<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: front-</span><span
  style='color:#445588'>end</span><span style='color:#555555'><br>
  &nbsp;&nbsp;&nbsp;&nbsp;spec:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containers:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- name: nginx-container<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image: nginx<br>
  &nbsp;&nbsp;replicas: </span><span style='color:#DD1144'>4</span><span
  style='color:#555555'><br>
  &nbsp;&nbsp;<span style='background:yellow'>selector: <br>
  &nbsp;&nbsp;&nbsp;&nbsp;matchLabels:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: front-</span></span><span
  style='color:#445588;background:yellow'>end</span></p>
  </td>
  <td width=318 valign=top style='width:238.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;line-height:normal'><span
  style='color:#555555;background:yellow'>apiVersion: v1</span><span
  style='color:#555555'><br>
  <span style='background:yellow'>kind: </span></span><span style='color:teal;
  background:yellow'>ReplicationController</span><span style='color:#555555'><br>
  metadata:<br>
  &nbsp;&nbsp;name: myapp<br>
  &nbsp;&nbsp;labels:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;app: myapp<br>
  &nbsp;&nbsp;&nbsp;&nbsp;type: front-</span><span style='color:#445588'>end</span><span
  style='color:#555555'><br>
  spec:<br>
  &nbsp;&nbsp;</span><span style='color:#445588'>template</span><span
  style='color:#555555'>:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;metadata:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: myapp-pod<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labels:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;app: myapp<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: front-</span><span
  style='color:#445588'>end</span><span style='color:#555555'><br>
  &nbsp;&nbsp;&nbsp;&nbsp;spec:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containers:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- name: nginx-container<br>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image: nginx<br>
  &nbsp;&nbsp;replicas: </span><span style='color:#DD1144'>4</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US style='color:white'><br>
</span><span lang=EN-US>Commands:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>To create a replicaset: </span><span
style='color:#555555'>kubectl create -f replicaset-definition.yml</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>To
get all replicasets: <span style='color:#555555'>kubectl </span><span
style='color:#445588'>get</span><span style='color:#555555'> replicaset</span></p>

<h4><span lang=EN-US>Labels and Selectors</span></h4>

<p class=MsoNormal><span lang=EN-US>Using labels and selectors, the ReplicaSet
knows which pods to monitor in a cluster of pods.</span></p>

<h4><span lang=EN-US>Scaling Replicas<br>
<br>
</span></h4>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Update the yaml and run the command: </span><span
style='color:#555555'>kubectl replace -f replicaset-definition.yml</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>We can also use the command: </span><span
style='color:#555555'>kubectl scale --replicas=</span><span style='color:#DD1144'>6</span><span
style='color:#555555'> -f replicaset-definition.yml, <br>
</span>or, <span style='color:#555555'>kubectl scale --replicas=</span><span
style='color:#DD1144'>6</span><span style='color:#555555'> -f replicaset
myapp-replicaset </span>but this does not change <b>replicaset-definition.yml.</b></p>

<h3><a name="_Toc55818140"><span lang=EN-US>Deployments</span></a></h3>

<p class=MsoNormal><span lang=EN-US>A Deployment provides declarative updates
for Pods and ReplicaSets.</span></p>

<p class=MsoNormal><img width=602 height=193
src="Kubernetes%20Notes_files/image007.png"><br clear=ALL>
</p>

<p class=MsoNormal><span lang=EN-US>The contents of <b>deployment-definition.yml</b>
is as follows:</span></p>

<p class=MsoNormal><span style='color:#555555'>apiVersion: apps/v1<br>
kind: </span><span style='color:teal'>Deployment</span><span style='color:#555555'><br>
metadata:<br>
&nbsp;&nbsp;name: myapp-deployment<br>
&nbsp;&nbsp;labels:<br>
&nbsp;&nbsp;&nbsp;&nbsp;app: myapp<br>
&nbsp;&nbsp;&nbsp;&nbsp;type: front-</span><span style='color:#445588'>end</span><span
style='color:#555555'><br>
spec:<br>
&nbsp;&nbsp;</span><span style='color:#445588'>template</span><span
style='color:#555555'>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;metadata:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: myapp-pod<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labels:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;app: myapp<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: front-</span><span
style='color:#445588'>end</span><span style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;spec:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containers:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- name: nginx-container<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image: nginx<br>
&nbsp;&nbsp;replicas: </span><span style='color:#DD1144'>4</span><span
style='color:#555555'><br>
&nbsp;&nbsp;selector: <br>
&nbsp;&nbsp;&nbsp;&nbsp;matchLabels:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: front-</span><span style='color:#445588'>end</span></p>

<p class=MsoNormal><span lang=EN-US>Commands:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>To create a deployment: </span><span
style='color:#555555'>kubectl create -f deployment-definition.yml</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>To get deployments: </span><span style='color:#555555'>kubectl </span><span
style='color:#445588'>get</span><span style='color:#555555'> deployments</span></p>

<p class=MsoNormal><span lang=EN-US>BONUS TIP:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Create a NGINX Pod: </span><span
style='color:#555555'>kubectl run nginx --image=nginx</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Generate POD Manifest YAML file (-o yaml). Don't
create it (--dry-run): </span><span style='color:#555555'>kubectl run nginx
--image=nginx --dry-run=client -o yaml</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Create a deployment: </span><span
style='color:#555555'>kubectl create deployment --image=nginx nginx</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Generate Deployment YAML file (-o yaml). Don't
create it (--dry-run): </span><span style='color:#555555'>kubectl create
deployment --image=nginx nginx --dry-run=client -o yaml</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Generate Deployment YAML file (-o yaml). Don't
create it (--dry-run) with 4 Replicas (--replicas=4): </span><span
style='color:#555555'>kubectl create deployment --image=nginx nginx
--dry-run=client -o yaml &gt; nginx-deployment.yaml</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Save it to a file, make necessary changes to the file (for example,
adding more replicas) and then create the deployment.</span></p>

<h3><a name="_Toc55818141"><span lang=EN-US>Namespaces</span></a></h3>

<p class=MsoNormal><span lang=EN-US>Kubernetes supports multiple virtual
clusters backed by the same physical cluster. These virtual clusters are called
namespaces.</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Namespaces are intended for use in environments
with many users spread across multiple teams, or projects. For clusters with a
few to tens of users, you should not need to create or think about namespaces
at all. Start using namespaces when you need the features they provide.</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Namespaces provide a scope for names. Names of
resources need to be unique within a namespace, but not across namespaces.
Namespaces cannot be nested inside one another and each Kubernetes resource can
only be in one namespace.</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Namespaces are a way to divide cluster resources
between multiple users (via resource quota).</span></p>

<p class=MsoNormal><img width=602 height=126
src="Kubernetes%20Notes_files/image008.png"><br clear=ALL>
</p>

<p class=MsoNormal><span lang=EN-US>The namespace-dev.yml is follows:</span></p>

<p class=MsoNormal><span style='color:#555555'>apiVersion: v1<br>
kind: </span><span style='color:teal'>Namespace</span><span style='color:#555555'><br>
metadata: <br>
&nbsp;&nbsp;name: dev</span></p>

<p class=MsoNormal><span lang=EN-US>Commands:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>To create a pod in a specific namespace: </span><span
style='color:#555555'>kubectl create -f pod-definition.yml --</span><span
style='color:#445588'>namespace</span><span style='color:#555555'>=dev</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>To create a namespace (with manifest): </span><span
style='color:#555555'>kubectl create -f </span><span style='color:#445588'>namespace</span><span
style='color:#555555'>-dev.yml</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>To create a namespace (without manifest): </span><span
style='color:#555555'>kubectl create </span><span style='color:#445588'>namespace</span><span
style='color:#555555'> dev</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>To set the default namespace: </span><span
style='color:#555555'>kubectl config </span><span style='color:#445588'>set</span><span
style='color:#555555'>-context $(kubectl config current-context) --</span><span
style='color:#445588'>namespace</span><span style='color:#555555'>=dev</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>To
get all namespaces: <span style='color:#555555'>kubectl </span><span
style='color:#445588'>get</span><span style='color:#555555'> pods
--all-namespaces</span></p>

<h4><span lang=EN-US>&nbsp;</span></h4>

<h4><span lang=EN-US>&nbsp;</span></h4>

<h4><span lang=EN-US><br>
<br>
</span></h4>

<h4><span lang=EN-US>Resource Quota</span></h4>

<p class=MsoNormal><span lang=EN-US>The compute-quota.yml is as follows:</span></p>

<p class=MsoNormal><span style='color:#555555'>apiVersion: v1<br>
kind: </span><span style='color:teal'>ResourceQuota</span><span
style='color:#555555'><br>
metadata:<br>
&nbsp;&nbsp;name: compute-quota<br>
&nbsp;&nbsp;</span><span style='color:#445588'>namespace</span><span
style='color:#555555'>: dev<br>
spec:<br>
&nbsp;&nbsp;hard:<br>
&nbsp;&nbsp;&nbsp;&nbsp;pods: </span><span style='color:#DD1144'>&quot;10&quot;</span><span
style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;requests.cpu: </span><span style='color:#DD1144'>&quot;4&quot;</span><span
style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;requests.memory: </span><span style='color:#DD1144'>5Gi</span><span
style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;limits.cpu: </span><span style='color:#DD1144'>&quot;10&quot;</span><span
style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;limits.memory: </span><span style='color:#DD1144'>10Gi</span></p>

<p class=MsoNormal><span lang=EN-US>Commands:</span></p>

<p class=MsoListParagraph style='text-indent:-18.0pt'><span lang=EN-US>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>To create a resource-quota (with manifest): </span><span
style='color:#555555'>kubectl create -f compute-quota.yml</span></p>

<h3><a name="_Toc55818142"><span lang=EN-US>Services</span></a></h3>

<p class=MsoNormal><span lang=EN-US>An abstract way to expose an application
running on a set of Pods as a network service.</span></p>

<p class=MsoNormal><span lang=EN-US>With Kubernetes you don't need to modify
your application to use an unfamiliar service discovery mechanism. Kubernetes
gives Pods their own IP addresses and a single DNS name for a set of Pods, and
can load-balance across them.</span></p>

<p class=MsoNormal><img width=602 height=293
src="Kubernetes%20Notes_files/image009.png"><br clear=ALL>
</p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h4><span lang=EN-US>Service Types:</span></h4>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>NodePort<br>
</span><img width=181 height=104 src="Kubernetes%20Notes_files/image010.png"><br
clear=ALL>
</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>ClusterIP<br>
</span><img width=190 height=100 src="Kubernetes%20Notes_files/image011.png"><br
clear=ALL>
</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=18 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=186 height=145 src="Kubernetes%20Notes_files/image012.png"></td>
 </tr>
</table>

<br clear=ALL>
<span lang=EN-US>LoadBalancer<br>
<br>
</span></p>

<h4><span lang=EN-US>Services NodePort</span></h4>

<p class=MsoNormal><img width=539 height=313
src="Kubernetes%20Notes_files/image013.png"><br clear=ALL>
</p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>The <b>nodeport-service-definition.yml</b>
is as follows:<br>
</span><span style='color:#555555'>apiVersion: v1<br>
kind: </span><span style='color:teal'>Service</span><span style='color:#555555'><br>
metadata:<br>
&nbsp;&nbsp;name: myapp-service<br>
spec:<br>
&nbsp;&nbsp;type: </span><span style='color:teal'>NodePort</span><span
style='color:#555555'><br>
&nbsp;&nbsp;ports:<br>
&nbsp;&nbsp;&nbsp;&nbsp;- targetPort: </span><span style='color:#DD1144'>80</span><span
style='color:#555555'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color:#B8B6B1'>#
port on target container</span><span style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port: </span><span style='color:#DD1144'>80</span><span
style='color:#555555'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:#B8B6B1'># port on service</span><span style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodePort: </span><span style='color:#DD1144'>30008</span><span
style='color:#555555'>&nbsp;&nbsp; </span><span style='color:#B8B6B1'># port on
node</span><span style='color:#555555'><br>
&nbsp;&nbsp;selector:<br>
&nbsp;&nbsp;&nbsp;&nbsp;app: myapp<br>
&nbsp;&nbsp;&nbsp;&nbsp;type: front-</span><span style='color:#445588'>end</span></p>

<p class=MsoNormal><span lang=EN-US>Commands:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>To create a service: </span><span
style='color:#555555'>kubectl create -f service-definition.yml</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span>To
get services: <span style='color:#555555'>kubectl </span><span
style='color:#445588'>get</span><span style='color:#555555'> services</span></p>

<h4><span lang=EN-US>Services ClusterIP</span></h4>

<p class=MsoNormal><span lang=EN-US>The <b>clusterip-service-definition.yaml </b>is
as follows:</span></p>

<p class=MsoNormal><span style='color:#555555'>apiVersion: v1<br>
kind: </span><span style='color:teal'>Service</span><span style='color:#555555'><br>
metadata:<br>
&nbsp;&nbsp;name: back-</span><span style='color:#445588'>end</span><span
style='color:#555555'><br>
spec:<br>
&nbsp;&nbsp;type: </span><span style='color:teal'>ClusterIP</span><span
style='color:#555555'><br>
&nbsp;&nbsp;ports:<br>
&nbsp;&nbsp;&nbsp;&nbsp;- targetPort: </span><span style='color:#DD1144'>80</span><span
style='color:#555555'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color:#B8B6B1'>#
port where the backend is exposed</span><span style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port: </span><span style='color:#DD1144'>80</span><span
style='color:#555555'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:#B8B6B1'># port where the service is exposed</span><span
style='color:#555555'><br>
&nbsp;&nbsp;selector:<br>
&nbsp;&nbsp;&nbsp;&nbsp;app: myapp<br>
&nbsp;&nbsp;&nbsp;&nbsp;type: back-</span><span style='color:#445588'>end</span></p>

<h4><span lang=EN-US>&nbsp;</span></h4>

<h4><span lang=EN-US>&nbsp;</span></h4>

<h4><span lang=EN-US>&nbsp;</span></h4>

<h4><span lang=EN-US>&nbsp;</span></h4>

<span lang=EN-US style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><i><span lang=EN-US style='font-family:"Calibri Light",sans-serif;
color:#2F5496'>&nbsp;</span></i></p>

<h4><span lang=EN-US>Services LoadBalancer</span></h4>

<p class=MsoNormal><img width=505 height=260
src="Kubernetes%20Notes_files/image014.png"><br clear=ALL>
<span lang=EN-US>Typical solution:</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>Instead we can use native load balancer.</span></p>

<p class=MsoNormal><span lang=EN-US>The <b>loadbalancer-service-definition.yml</b>
is as follows:</span></p>

<p class=MsoNormal><span style='color:#555555'>apiVersion: v1<br>
kind: </span><span style='color:teal'>Service</span><span style='color:#555555'><br>
metadata:<br>
&nbsp;&nbsp;name: myapp-service<br>
spec:<br>
&nbsp;&nbsp;type: </span><span style='color:teal'>LoadBalancer</span><span
style='color:#555555'><br>
&nbsp;&nbsp;ports:<br>
&nbsp;&nbsp;&nbsp;&nbsp;- targetPort: </span><span style='color:#DD1144'>80</span><span
style='color:#555555'>&nbsp;&nbsp;&nbsp;&nbsp;</span><span style='color:#B8B6B1'>#
port where the backend is exposed</span><span style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;port: </span><span style='color:#DD1144'>80</span><span
style='color:#555555'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
style='color:#B8B6B1'># port where the service is exposed</span><span
style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodePort: </span><span style='color:#DD1144'>30008</span></p>

<h3><a name="_Toc55818143">Kubernetes Imperative and Declarative</a> </h3>

<h4>Imperative Commands</h4>

<h5>Create objects</h5>

<h5><span style='color:#555555'>kubectl run --image=nginx nginx<br>
kubectl create deployment --image=nginx nginx<br>
kubectl expose deployment nginx --port </span><span style='color:#DD1144'>80</span></h5>

<p class=MsoNormal><span style='color:#555555'>kubectl run httpd
--image=httpd:alpine --port=</span><span style='color:#DD1144'>80</span><span
style='color:#555555'> --expose</span></p>

<h5>Update Objects</h5>

<p class=MsoNormal><span style='color:#555555'>kubectl edit deployment nginx<br>
kubectl label pods labelex owner=michael<br>
kubectl scale deployment nginx --replicas=</span><span style='color:#DD1144'>5</span><span
style='color:#555555'><br>
kubectl </span><span style='color:#445588'>set</span><span style='color:#555555'>
image deployment nginx nginx=nginx:</span><span style='color:#DD1144'>1.18</span><span
style='color:#555555'><br>
kubectl create -f nginx.yml<br>
kubectl replace -f nginx.yml<br>
kubectl </span><span style='color:#445588'>delete</span><span style='color:
#555555'> -f nginx.yml</span><br>
<br>
</p>

<h4>Declarative Commands</h4>

<p class=MsoNormal><span style='color:#555555'>kubectl apply -f nginx.yaml</span></p>

<p class=MsoNormal><b>Create a deployment : </b><span style='color:#555555'>kubectl
create deployment --image=nginx nginx</span></p>

<p class=MsoNormal>Generate Deployment YAML file (-o yaml). Don't create
it(--dry-run)</p>

<p class=MsoNormal><span style='color:#555555'>kubectl create deployment
--image=nginx nginx --dry-run=client -o yaml</span></p>

<p class=MsoNormal>IMPORTANT:</p>

<p class=MsoNormal><span style='color:#555555'>kubectl create deployment </span>does
not have a --replicas option. You could first create it and then scale it using
the kubectl scale command.</p>

<p class=MsoNormal>Save it to a file - (If you need to modify or add some other
details)</p>

<p class=MsoNormal><span style='color:#555555'>kubectl create deployment
--image=nginx nginx --dry-run=client -o yaml &gt; nginx-deployment.yaml</span></p>

<p class=MsoNormal>You can then update the YAML file with the replicas or any
other field before creating the deployment.</p>

<p class=MsoNormal><b>Service</b></p>

<p class=MsoNormal>Create a Service named redis-service of type ClusterIP to
expose pod redis on port 6379</p>

<p class=MsoNormal><span style='color:#555555'>kubectl expose pod redis --port=</span><span
style='color:#DD1144'>6379</span><span style='color:#555555'> --name
redis-service --dry-run=client -o yaml</span></p>

<p class=MsoNormal>(This will automatically use the pod's labels as selectors)</p>

<p class=MsoNormal>Or</p>

<p class=MsoNormal><span style='color:#555555'>kubectl create service clusterip
redis --tcp=</span><span style='color:#DD1144'>6379</span><span
style='color:#555555'>:</span><span style='color:#DD1144'>6379</span><span
style='color:#555555'> --dry-run=client -o yaml&nbsp;&nbsp;</span> (This will
not use the pods labels as selectors, instead it will assume selectors as
app=redis. You cannot pass in selectors as an option. So, it does not work very
well if your pod has a different label set. So, generate the file and modify
the selectors before creating the service)</p>

<p class=MsoNormal>Create a Service named nginx of type NodePort to expose pod
nginx's port 80 on port 30080 on the nodes:</p>

<p class=MsoNormal><span style='color:#555555'>kubectl expose pod nginx --port=</span><span
style='color:#DD1144'>80</span><span style='color:#555555'> --name
nginx-service --type=</span><span style='color:teal'>NodePort</span><span
style='color:#555555'> --dry-run=client -o yaml</span></p>

<p class=MsoNormal>(This will automatically use the pod's labels as selectors,
but you cannot specify the node port. You have to generate a definition file
and then add the node port in manually before creating the service with the
pod.)</p>

<p class=MsoNormal>Or</p>

<p class=MsoNormal><span style='color:#555555'>kubectl create service nodeport
nginx --tcp=</span><span style='color:#DD1144'>80</span><span style='color:
#555555'>:</span><span style='color:#DD1144'>80</span><span style='color:#555555'>
--node-port=</span><span style='color:#DD1144'>30080</span><span
style='color:#555555'> --dry-run=client -o yaml</span></p>

<p class=MsoNormal>(This will not use the pods labels as selectors)</p>

<p class=MsoNormal>Both the above commands have their own challenges. While one
of it cannot accept a selector the other cannot accept a node port. I would
recommend going with the `kubectl expose` command. If you need to specify a
node port, generate a definition file using the same command and manually input
the nodeport before creating the service.</p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc55818144"><span lang=EN-US>Scheduling</span></a></h1>

<h2><img width=602 height=299 src="Kubernetes%20Notes_files/image015.png"><br
clear=ALL>
<a name="_Toc55818145"></a><span lang=EN-US>Manually Scheduling</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>The scheduler goes through all the nodes
and finds those nodes who’s this property is not set. These are the nodes which
will be used for scheduling. Once identified, it sets this property of the node
in the pod along side with it and schedules the pod on that node, creating a
binding object.</span></p>

<p class=MsoNormal><img width=602 height=287
src="Kubernetes%20Notes_files/image016.png"><br clear=ALL>
</p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-US style='font-size:13.0pt;line-height:107%;
font-family:"Calibri Light",sans-serif;color:#2F5496'>&nbsp;</span></p>

<h2><a name="_Toc55818146"><span lang=EN-US>No Scheduler</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Create a <b>pod-bind-definition.yml</b> and
manually schedule the pods on the node.</span></p>

<p class=MsoNormal><span style='color:#555555'>apiVersion: v1<br>
kind: </span><span style='color:teal'>Binding</span><span style='color:#555555'><br>
metadata:<br>
&nbsp;&nbsp;name: nginx<br>
target: <br>
&nbsp;&nbsp;apiVersion: v1<br>
&nbsp;&nbsp;kind: </span><span style='color:teal'>Node</span><span
style='color:#555555'><br>
&nbsp;&nbsp;name: node02</span></p>

<p class=MsoNormal><span lang=EN-US>Then send a POST request to binding API:</span></p>

<p class=MsoNormal><span style='color:#555555'>curl --header </span><span
style='color:#DD1144'>&quot;Content-Type:application/json&quot;</span><span
style='color:#555555'> --request POST --data </span><span style='color:#DD1144'>'{&quot;apiVersion&quot;:
&quot;v1&quot;, &quot;kind”: “Binding&quot;, ...}'</span><span
style='color:#555555'> </span><a
href="http://$SERVER/api/v1/namespaces/default/pods/$PODNAME/binding/">http://$SERVER/api/v1/namespaces/default/pods/$PODNAME/binding/</a></p>

<p class=MsoNormal>This will schedule the pods which label on the specified
node.</p>

<h2><a name="_Toc55818147"><span lang=EN-US>Labels and Selectors</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Using selectors to select the pod with
given label:</span></p>

<p class=MsoNormal><span style='position:relative;z-index:251691008;left:-2px;
top:0px;width:437px;height:409px'><img width=437 height=409
src="Kubernetes%20Notes_files/image017.png"></span><br clear=ALL>
<span style='color:#555555'>kubectl </span><span style='color:#445588'>get</span><span
style='color:#555555'> pods --selectors app=</span><span style='color:teal'>App1</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h3><img width=383 height=385 src="Kubernetes%20Notes_files/image018.png"><br
clear=ALL>
<a name="_Toc55818148"></a><span lang=EN-US>Annotations</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><a name="_Toc55818149"><span lang=EN-US>Taints and Tolerations</span></a></h2>

<p class=MsoNormal style='text-align:justify'><span lang=EN-US>They are used to
restrict the pod to be scheduled to particular nodes.</span></p>

<p class=MsoNormal style='text-align:justify'><i><span lang=EN-US>Taints </span></i><span
lang=EN-US>allow a node to repel a set of pods. <i>Tolerations</i> are applied
to pods, and allow the pods to schedule onto nodes with matching taints.</span></p>

<p class=MsoNormal style='text-align:justify'><img width=466 height=303
src="Kubernetes%20Notes_files/image019.png"><br clear=ALL>
<span lang=EN-US>Taints and tolerations work together to ensure the pods are
not scheduled onto inappropriate nodes. One or more taints are applied to a
node; this marks that the node should not accept any pods that do not tolerate
the taints.</span></p>

<p class=MsoNormal style='text-align:justify'><b><span lang=EN-US>Taints –
Node:</span></b><span lang=EN-US> </span><span style='color:#555555'>kubectl
taint nodes node-name key-</span><span style='color:#445588'>value</span><span
style='color:#555555'>: taint-effect</span></p>

<p class=MsoNormal style='text-align:justify'><span style='color:#555555'>E.g.,
kubectl taint nodes node1 app=blue :</span><span style='color:teal'>NoSchedule</span></p>

<h5>Taint Effects:</h5>

<p class=MsoNormal>In particular,</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>if there is at least one un-ignored taint with effect <span
style='color:#92D050'>NoSchedule </span>then Kubernetes will not schedule the
pod onto that node</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>if there is no un-ignored taint with effect NoSchedule but there
is at least one un-ignored taint with effect <span style='color:#92D050'>PreferNoSchedule
</span>then Kubernetes will try to not schedule the pod onto the node</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>if there is at least one un-ignored taint with effect <span
style='color:#92D050'>NoExecute </span>then the pod will be evicted from the
node (if it is already running on the node), and will not be scheduled onto the
node (if it is not yet running on the node).</p>

<p class=MsoNormal style='text-align:justify'><b><span lang=EN-US>Removing Tolerations
– Pods:</span></b></p>

<p class=MsoNormal style='text-align:justify'><span lang=EN-US>E.g., </span><span
style='color:#555555'>kubectl taint nodes master/controlplane
node-role.kubernetes.io/master:</span><span style='color:teal'>NoSchedule</span><span
style='color:#555555'>-</span></p>

<h2><a name="_Toc55818150"><span lang=EN-US>Node Selectors</span></a></h2>

<p class=MsoNormal><span lang=EN-US>nodeSelector is the simplest recommended
form of node selection constraint. nodeSelector is a field of PodSpec. For the
pod to be eligible to run on a node, the node must have each of the indicated
key-value pairs as labels (it can have additional labels as well). The most
common usage is one key-value pair.</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Run </span><span style='color:#555555'>kubectl </span><span
style='color:#445588'>get</span><span style='color:#555555'> nodes </span>to
get<span style='color:#555555'> </span>the names of your cluster’s nodes.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Pick out the one that you want to add a label to , and then run <span
style='color:#555555'>kubectl label nodes &lt;node-name&gt;
&lt;label-key&gt;=&lt;label-</span><span style='color:#445588'>value</span><span
style='color:#555555'>&gt; </span>to add a<span style='color:#555555'> </span>label
to the node you’ve chosen. <br>
E.g., <span style='color:#555555'>kubectl label nodes kubernetes-foo-node-</span><span
style='color:#DD1144'>1.c</span><span style='color:#555555'>.a-robinson.</span><span
style='color:#445588'>internal</span><span style='color:#555555'> disktype=ssd</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>You can verify that it worked by re-running <span
style='color:#555555'>kubectl </span><span style='color:#445588'>get</span><span
style='color:#555555'> nodes --show-labels </span>and checking that the node
now has a label. You can also use <span style='color:#555555'>kubectl describe
node </span><span style='color:#DD1144'>&quot;nodename&quot;</span><span
style='color:#555555'> </span>to see the full list of labels of the given node.
</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><img width=539 height=225
src="Kubernetes%20Notes_files/image020.png"><br clear=ALL>
<span lang=EN-US>Take whatever pod config file you want to run, and add a
nodeSelector section to it, like this. </span></p>

<p class=MsoListParagraphCxSpMiddle><span lang=EN-US>&nbsp;</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>When you then run </span><span style='color:#555555'>kubectl apply
-f https:</span><span style='color:#B8B6B1'>//k8s.io/examples/pods/pod-nginx.yaml</span><span
lang=EN-US>, the Pod will get scheduled on the node that you attached the label
to. You can verify that it worked by running </span><span style='color:#555555'>kubectl
</span><span style='color:#445588'>get</span><span style='color:#555555'> pods
-o wide</span><span lang=EN-US> and looking at the &quot;NODE&quot; that the
Pod was assigned to.</span></p>

<h2><a name="_Toc55818151"><span lang=EN-US>Node Affinity</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Node affinity is conceptually similar to
nodeSelector -- it allows you to constrain which nodes your pod is eligible to
be scheduled on, based on labels on the node.</span></p>

<p class=MsoNormal><span lang=EN-US>There are currently two types of node
affinity, as follows:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:38.7pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='color:#92D050'>requiredDuringSchedulingIgnoredDuringExecution</span>-
<span lang=EN-US>&quot;only run the pod on nodes with Intel CPUs&quot;,</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:38.7pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><img width=485 height=337
src="Kubernetes%20Notes_files/image021.png"><br clear=ALL>
<span style='color:#92D050'> <span lang=EN-US>preferredDuringSchedulingIgnoredDuringExecution</span></span>-
<span lang=EN-US>&quot;try to run this set of pods in failure zone XYZ, but if
it's not possible, then allow some to run elsewhere&quot;. </span></p>

<p class=MsoNormal><span lang=EN-US> </span></p>

<h2><a name="_Toc55818152"><span lang=EN-US>Resources Requirements and Limits</span></a></h2>

<p class=MsoNormal><span lang=EN-US>By default, Kubernetes provides <b>0.5 CPU </b>and
<b>256 Mi </b>of memory. This is known as the resource request for a container.</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=28 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=427 height=282 src="Kubernetes%20Notes_files/image022.png"></td>
 </tr>
</table>

<br clear=ALL>
<span lang=EN-US>Modification in resource requirements are provided in <b>pod-definition.yml:</b></span></p>

<p class=MsoNormal><b><span lang=EN-US>CPU count </span></b><span lang=EN-US>can
be as low as 0.1(100m) or 1m.</span></p>

<p class=MsoNormal><span lang=EN-US>1 CPU count = 1 AWS vCPU = 1 GCP Core = 1
Azure Core = 1 Hyperthread</span></p>

<p class=MsoNormal><img width=367 height=308
src="Kubernetes%20Notes_files/image023.png"><br clear=ALL>
<b><span lang=EN-US>Memory Count:</span></b></p>

<p class=MsoNormal><span lang=EN-US> </span></p>

<h3><a name="_Toc55818153"><span lang=EN-US>Resource Limits</span></a></h3>

<p class=MsoNormal><span lang=EN-US>By default, the Kubernetes has a limit of 1
vCPU and 512 Mi memory.</span></p>

<p class=MsoNormal><img width=583 height=370
src="Kubernetes%20Notes_files/image024.png"><br clear=ALL>
<span lang=EN-US>To change it, just mention in the <b>pod-definition.yml.</b></span></p>

<p class=MsoNormal><b><span lang=EN-US>&nbsp;</span></b></p>

<p class=MsoNormal><span lang=EN-US>If a pod tries to exceed CPU usage limit,
the node gets throttled, but does not allow excessive memory usage.</span></p>

<p class=MsoNormal><span lang=EN-US>This is not the case with memory. The pod
can exceed its memory limit, but it constantly uses excessive memory it will
get terminated.</span></p>

<h3><a name="_Toc55818154"><span lang=EN-US>Limit Range</span></a></h3>

<p class=MsoNormal><img width=509 height=302
src="Kubernetes%20Notes_files/image025.png"><br clear=ALL>
<span lang=EN-US>&quot;When a pod is created the containers are assigned a
default CPU request of .5 and memory of 256Mi&quot;. For the POD to pick up
those defaults you must have first set those as default values for request and
limit by creating a LimitRange in that namespace. </span></p>

<p class=MsoNormal><span lang=EN-US> </span></p>

<h4><span lang=EN-US>A quick note on editing PODs and Deployments</span></h4>

<h5><span lang=EN-US>Edit a POD</span></h5>

<p class=MsoNormal><span lang=EN-US>We cannot edit specifications of an
existing POD other than the below.</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>spec.containers[*].image</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>spec.initContainers[*].image</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>spec.activeDeadlineSeconds</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>spec.tolerations</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt'><span lang=EN-US>&nbsp;</span></p>

<h5><span lang=EN-US>Edit Deployments</span></h5>

<p class=MsoNormal><span lang=EN-US>With Deployments you can easily edit any
field/property of the POD template. Since the pod template is a child of the
deployment specification, with every change the deployment will automatically
delete and create a new pod with the new changes. So, if you are asked to edit
a property of a POD part of a deployment you may do that simply by running the
command</span></p>

<p class=MsoNormal><span style='color:#555555'>kubectl edit deployment </span><span
style='color:#445588'>my</span><span style='color:#555555'>-deployment</span><span
lang=EN-US><br clear=all style='page-break-before:always'>
</span></p>

<h2><a name="_Toc55818155"><span lang=EN-US>Daemon Sets</span></a></h2>

<p class=MsoNormal><span lang=EN-US>A DaemonSet ensures that all (or some)
Nodes run a copy of a Pod. As nodes are added to the cluster, Pods are added to
them. As nodes are removed from the cluster, those Pods are garbage collected.
Deleting a DaemonSet will clean up the Pods it created.</span></p>

<p class=MsoNormal><span lang=EN-US>Some typical uses of a DaemonSet are:</span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>running a cluster storage daemon on every node</span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-18.0pt'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>running a logs collection daemon on every node</span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-18.0pt'><span lang=EN-US
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>running a node monitoring daemon on every node</span></p>

<p class=MsoNormal>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=422 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=602 height=146 src="Kubernetes%20Notes_files/image026.png"></td>
 </tr>
</table>

<br clear=ALL>
<span lang=EN-US>It uses NodeAffinity to schedule pods on nodes.</span></p>

<p class=MsoNormal><img width=377 height=359
src="Kubernetes%20Notes_files/image027.png"><br clear=ALL>
</p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US> Commands:</span></p>

<p class=MsoNormal><span lang=EN-US>To get daemon sets: </span><span
style='color:#555555'>kubectl </span><span style='color:#445588'>get</span><span
style='color:#555555'> daemonsets<br>
</span>To describe daemonsets: <span style='color:#555555'>kubectl describe
daemonsets monitoring-daemon</span></p>

<span lang=EN-US style='font-size:11.0pt;line-height:107%;font-family:"Calibri",sans-serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h2><a name="_Toc55818156"><span lang=EN-US>Static Pods</span></a></h2>

<p class=MsoNormal><span lang=EN-US>Static Pods are managed directly by the
kubelet daemon on a specific node, without the API server observing them.
Unlike Pods that are managed by the control plane (for example, a Deployment);
instead, the kubelet watches each static Pod (and restarts it if it fails).</span></p>

<p class=MsoNormal><span lang=EN-US>Static Pods are always bound to one Kubelet
on a specific node.</span></p>

<p class=MsoNormal><span lang=EN-US>The kubelet automatically tries to create a
mirror Pod on the Kubernetes API server for each static Pod. This means that
the Pods running on a node are visible on the API server, but cannot be
controlled from there.</span></p>

<p class=MsoNormal><span lang=EN-US>In a lone node, there is location called
pod-manifest from where <b>/etc/kubernetes/manifests</b> the kubelet
periodically checks, and creates the pods as static pods (only pods can be
created by kubelet), which can be changed in <i>kubelet.service</i> by
providing <i>kubeconfig.yaml</i>.</span></p>

<p class=MsoNormal><span lang=EN-US>A change in these yamls leads to
recreations of pods, and removal of any of these manifests leads to deletion of
pre-existing static pod.</span></p>

<p class=MsoNormal><span lang=EN-US>To check for the static pods (with
kube-apiserver): </span><span style='color:#555555'>kubectl </span><span
style='color:#445588'>get</span><span style='color:#555555'> pods<br>
</span>To check for the static pods (without kube-apiserver, with just
kubelet): <span style='color:#555555'>docker ps</span> <br>
To get pod-manifests-directory location: <span style='color:#555555'>ps -ef |
grep kubelet | grep </span><span style='color:#DD1144'>&quot;\--config&quot;</span></p>

<p class=MsoNormal><img width=582 height=77
src="Kubernetes%20Notes_files/image028.png"><br clear=ALL>
<span style='color:#555555'><br>
<br>
</span></p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=301 valign=top style='width:225.4pt;border:solid windowtext 1.0pt;
  background:#4472C4;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0cm;text-align:center;
  line-height:normal'><span lang=EN-US style='color:white'>Static PODs</span></p>
  </td>
  <td width=301 valign=top style='width:225.4pt;border:solid windowtext 1.0pt;
  border-left:none;background:#4472C4;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0cm;text-align:center;
  line-height:normal'><span lang=EN-US style='color:white'>DaemonSets</span></p>
  </td>
 </tr>
 <tr>
  <td width=301 valign=top style='width:225.4pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;line-height:normal'><span
  lang=EN-US>Created by Kubelet</span></p>
  </td>
  <td width=301 valign=top style='width:225.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;line-height:normal'><span
  lang=EN-US>Created by kube-apiserver (via DaemonSet controller)</span></p>
  </td>
 </tr>
 <tr>
  <td width=301 valign=top style='width:225.4pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;line-height:normal'><span
  lang=EN-US>Deploy Control Plane components as Static Pods</span></p>
  </td>
  <td width=301 valign=top style='width:225.4pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0cm;line-height:normal'><span
  lang=EN-US>Deploy Monitoring Agents, Logging Agents on Nodes</span></p>
  </td>
 </tr>
 <tr>
  <td width=601 colspan=2 valign=top style='width:450.8pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:0cm;text-align:center;
  line-height:normal'><span lang=EN-US>Ignored by the Kube-Scheduler</span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US><br>
Steps to start as a static Pod:</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Choose a node where you want to run the static
Pod.<br>
Command: </span><span style='color:#555555'>ssh </span><span style='color:#445588'>my</span><span
style='color:#555555'>-node1</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Choose a directory, say <b>/etc/kubelet.d </b>and place a web
server Pod definition there, for example <b>/etc/kubectl.d/static-web.yaml</b>.<br>
<br>
<span style='color:#B8B6B1'># Run this command on the node where kubelet is
running</span><span style='color:#555555'><br>
mkdir /etc/kubelet.d/<br>
cat &lt;&lt;EOF &gt;</span><span style='color:#DD1144'>/etc/</span><span
style='color:#555555'>kubelet.d/</span><span style='color:#445588'>static</span><span
style='color:#555555'>-web.yaml<br>
apiVersion: v1<br>
kind: </span><span style='color:teal'>Pod</span><span style='color:#555555'><br>
metadata:<br>
&nbsp;&nbsp;name: </span><span style='color:#445588'>static</span><span
style='color:#555555'>-web<br>
&nbsp;&nbsp;labels:<br>
&nbsp;&nbsp;&nbsp;&nbsp;role: myrole<br>
spec:<br>
&nbsp;&nbsp;containers:<br>
&nbsp;&nbsp;&nbsp;&nbsp;- name: web<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image: nginx<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ports:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- name: web<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerPort: </span><span
style='color:#DD1144'>80</span><span style='color:#555555'><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;protocol: TCP<br>
EOF</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Configure your kubelet on the node to use this
directory by running it <b>with --pod-manifest-path=/etc/kubelet.d/ argument</b>.
Add the <b>&lt;staticPodPath: &lt;the-directory&gt; </b>field in the kubelet
configuration file.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:18.0pt;text-indent:-18.0pt'><span
lang=EN-US>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Restart the kubelet: </span><span
style='color:#555555'>systemctl restart kubelet</span></p>

<h2><span lang=EN-US>Multiple Schedulers</span></h2>

<p class=MsoNormal><span lang=EN-US>To create a <b>custom-scheduler.service</b>,
use the custom scheduler binary, change the <b>–scheduler-name </b>to your own
custom scheduler name.</span></p>

<h3><span lang=EN-US>Custom Scheduler</span></h3>

<h3><img width=350 height=289 src="Kubernetes%20Notes_files/image029.png"><br
clear=ALL>
</h3>

<p class=MsoNormal><img width=417 height=241
src="Kubernetes%20Notes_files/image030.png"><br clear=ALL>
<span lang=EN-US><br clear=all style='page-break-before:always'>
</span><span style='color:#555555'>kubectl </span><span style='color:#445588'>get</span><span
style='color:#555555'> events<br>
kubectl logs </span><span style='color:#445588'>my</span><span
style='color:#555555'>-custom-scheduler --name-space=kube-system</span></p>

<h1><a name="_Toc55818157"><span lang=EN-US>Logging &amp; Monitoring</span></a></h1>

<h1><a name="_Toc55818158"><span lang=EN-US>Application Lifecycle Management</span></a></h1>

<h1><a name="_Toc55818159"><span lang=EN-US>Cluster Maintenance</span></a></h1>

<h1><a name="_Toc55818160"><span lang=EN-US>Security</span></a></h1>

<h1><a name="_Toc55818161"><span lang=EN-US>Storage</span></a></h1>

<h1><a name="_Toc55818162"><span lang=EN-US>Networking</span></a></h1>

<h1><a name="_Toc55818163"><span lang=EN-US>Design and Install a Kubernetes
Cluster</span></a></h1>

<h1><a name="_Toc55818164"><span lang=EN-US>Install “Kubernetes the kubeadm
way”</span></a></h1>

<h1><a name="_Toc55818165"><span lang=EN-US>End to End Tests on a Kubernetes
Cluster</span></a></h1>

<h1><a name="_Toc55818166"><span lang=EN-US>Troubleshooting</span></a></h1>

<h1><a name="_Toc55818167"><span lang=EN-US>Other Topics</span></a></h1>

<h1><a name="_Toc55818168"><span lang=EN-US>Lightning Labs</span></a></h1>

<h1><a name="_Toc55818169"><span lang=EN-US>Mock Exams</span></a></h1>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

</div>

</body>

</html>
